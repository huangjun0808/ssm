<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.weshine.dao.UserDao">

    <sql id="selectField">
        id,add_time as addTime,update_time as updateTime,nick_name as nickName,user_name as userName,email,mobile,sex,enabled
    </sql>
    <sql id="insertField">
        (add_time,update_time,nick_name,user_name,email,mobile,sex,enabled)
    </sql>

    <select id="get" parameterType="int" resultType="user">
        SELECT <include refid="selectField"/> FROM user WHERE id=#{id}
    </select>

    <select id="getBy" resultType="user">
        SELECT <include refid="selectField"/> FROM user WHERE ${field}=#{value}
    </select>
    <select id="getBy1" resultType="map">
        SELECT <include refid="selectField"/> FROM user WHERE ${field}=#{value}
    </select>

    <select id="getUser" parameterType="int" resultType="user" >
        SELECT <include refid="selectField"/> FROM user WHERE id=#{id}
    </select>

    <insert id="insertUser1" parameterType="com.weshine.model.User">
        INSERT INTO user<include refid="insertField"/> VALUES (#{addTime},#{updateTime},'','',#{email},#{mobile},#{sex},#{enabled})
    </insert>
    <insert id="insertUser2" parameterType="com.weshine.model.User">
        INSERT INTO user(name1,age) VALUES (#{name},#{age})
    </insert>

</mapper>